# 软件工程实验报告：项目管理

**2112524 张梓杰**

## 实验要求

- 熟练掌握git的基本指令和分支管理指令

- 掌握git支持软件配置管理的核心机理

- 在实践项目中使用 $git$ / $github$ 管理自己的项目源代码

- 本次实验由**个人单独完成**（使用团队作业的文件，但**仓库需要个人新建**）

## 安装Git

### 本地机器安装Git

Git在本机已安装，版本号为2.37.3.windows.1

![](E:\college\3.2\软件工程\个人作业\4.项目管理\fig\本地安装Git.png)

### 申请Github账号

## 实验步骤

### 仓库创建和提交

#### R0：监测

- 针对R1和R7，在进行每次git操作之前，随时查看工作区、暂存区、git仓库的状态，确认项目里的各文件当前处于什么状态；

#### R1：初始化

- 本地初始化一个git仓库，将自己在团队作业中所创建项目的全部源文件加入进去，纳入git管理；

  在Git Bash上使用 `git init` 指令在本机指定路径下初始化仓库：

  ![](E:\college\3.2\软件工程\个人作业\4.项目管理\fig\初始化仓库.png)

#### R2：提交

- 将文件拖入本地仓库文件夹，使用 `git add .` 指令将文件从本地存入暂存区：（warning略过）

  ![](E:\college\3.2\软件工程\个人作业\4.项目管理\fig\git本地add.png)

  提交的时候显示错误需要配置SSH秘钥。秘钥已经生成，使用

  ````sh
  eval "$(ssh-agent -s)"
  ssh-add ~/.ssh/id_rsa
  ````

  将秘钥添加到当前`ssh-agent`

  ![image-20240615124532267](C:\Users\张梓杰\AppData\Roaming\Typora\typora-user-images\image-20240615124532267.png)

  再次执行`git push`即可正常提交：

  ![](E:\college\3.2\软件工程\个人作业\4.项目管理\fig\push操作.png)

  这里出现新分支创建提示是因为本地仓库默认根分支是main()。

#### R3：差异化查看

- 手工对团队作业中的3个文件进行修改；

- 查看上次提交之后都有哪些文件修改、具体修改内容是什么（查看修改后的文件和暂存区域中相应文件的差别）；

  对文件进行修改后，在`git bash` 中执行 `git status` 查看修改的状态：

  ![](E:\college\3.2\软件工程\个人作业\4.项目管理\fig\查看一次修改状态.png)

  根据要求，我们在这三个文件中添加三处注释表示修改，通过执行`git diff`命令进行比对：

  ![](E:\college\3.2\软件工程\个人作业\4.项目管理\fig\修改1.png)

#### R4：重新提交

使用`git commit -a`打开日志编辑器进行日志填写并提交

#### R5：重新提交2nd

- 再次对这3个文件进行修改；

  同理使用 `git status` 和 `git diff` 输出差异并使用`git commit -a`提交：

  ![](E:\college\3.2\软件工程\个人作业\4.项目管理\fig\查看二次修改状态.png)

  ![](E:\college\3.2\软件工程\个人作业\4.项目管理\fig\修改2.png)

  ![](E:\college\3.2\软件工程\个人作业\4.项目管理\fig\重新提交2.png)

#### R6：把最后一次提交撤销

这里我们直接使用破坏性的撤销修改方法，即撤回提交记录同时撤回文件数据的修改：

运行`git reset --hard HEAD~1`指令删除提交：

![](E:\college\3.2\软件工程\个人作业\4.项目管理\fig\撤销修改.png)

#### R7：查询提交记录

使用`git log`可以查看日志提交记录：

![image-20240615131414970](C:\Users\张梓杰\AppData\Roaming\Typora\typora-user-images\image-20240615131414970.png)

可以看到第二次修改的日志已经被删除。

### 分支管理

- 在你的Github网站上，通过web界面建立一个project，将不少于10个文件（程序代码、文档等）加入进去，形成初始分支B1；在B1基础上建立两个并行的分支B2、B3，手工对B2和B3上的某些文件进行不同程度的修改并提交；

#### R8：Git Clone

- 从Github上(URL)克隆一个已有的git仓库到本地；

  指令：`git clone git@github.com:MONKZZJ/git_software_copy.git`

	![image-20240615145312824](C:\Users\张梓杰\AppData\Roaming\Typora\typora-user-images\image-20240615145312824.png)

#### R9：获得该仓库的全部分支

使用 `git branch -a` 查看所有分支：

![image-20240615145842821](C:\Users\张梓杰\AppData\Roaming\Typora\typora-user-images\image-20240615145842821.png)

其中remotes指远程分支，现在我们在根目录B1下。

#### R10：在B2分支基础上创建一个新分支C4

目前在B1分支，如果切换到B2分支需要根据远程分支追踪到本地分支

输入`git checkout -b B2 origin/B2`跟踪到B2分支并在本地复制：

![image-20240615151722332](C:\Users\张梓杰\AppData\Roaming\Typora\typora-user-images\image-20240615151722332.png)

现在执行`git branch`可以看到已经存在B2分支：

![](E:\college\3.2\软件工程\个人作业\4.项目管理\fig\分支查看1.png)

在该分支下使用`git checkout -b C4`创建C4分支：

#### R11：分支文件修改1

- 在C4上，对4个文件进行修改并提交；

  

#### R12：分支文件修改2

- 在B3分支上对同样的4个文件做不同修改并提交；

#### R13：分支合并

- 将C4和B3分支合并，若有冲突，手工消解；

#### R14：查看分支

- 查看目前哪些分支已经合并、哪些分支尚未合并；

#### R15：分支归属修改

- 将C4和B3合并后的分支删除，将尚未合并的分支合并到一个新分支上，分支名字为你的学号；

### 远程分支管理

#### R16：本地上传

- 将本地以你的学号命名的分支推送到Github上；

#### R17：操作上传

- 将R1到R7各步骤得到的结果推送到Github上；

#### R18：查看状态

- 在Github网站以web页面的方式查看你的两个仓库的当前状态。